<html>
<head>
</head>
 <body>
 <div id="display">
 </div>
 <p><input id="message" type="text" name="message"></p>
 <p><input id="username" type="text" name="username"></p>
 <p>
 <button type="button" onclick="postdata()">Submit Message</button>
 </p>
 </body>
<script>  
function getmessage() {
     xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function () {
            if (this.readyState === 4 && this.status === 200) {
                document.getElementById("display").innerHTML = this.responseText;
            }
        }
        xmlhttp.open("GET", "messages.php", true);
        xmlhttp.send();

}

function postdata() {
    if (document.getElementById("username").value === "" || document.getElementById("message").value === "")
            document.getElementById("errorMessage").innerHTML = "One of the inputs is missing.";
        else {
            var formData = new FormData();
            formData.append("username", document.getElementById("username").value);
            formData.append("message", document.getElementById("message").value);

            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("POST", "input.php");
            xmlhttp.send(formData);
        }
}
getmessage();
    //run func in every 1sec
     setInterval(function () {
        getmessage()
    }, 1000);
 </script>
 </html>